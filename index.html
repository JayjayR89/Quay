<!doctype html>
<html>

<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>JR Code Editor</title>

  <!-- Babel standalone (for in-browser JSX transform) -->
  <script src="https://unpkg.com/@babel/standalone/babel.min.js"></script>

  <!-- Tailwind CDN for standalone HTML exports -->
  <script src="https://cdn.jsdelivr.net/npm/@tailwindcss/browser@4"></script>

  <!-- App styles -->
  <link rel="stylesheet" href="styles.css" />
</head>

<body>
  <div id="container"></div>

  <!-- Small inline runtime config and helper functions that are safe to keep in HTML -->
  <script>
    // App-level runtime config (can be overridden by environment)
    window.CALLAI_API_KEY = "sk-vibes-proxy-managed";
    window.CALLAI_CHAT_URL = "https://vibes-diy-api.com/";
    window.CALLAI_IMG_URL = "https://vibes-diy-api.com/";

    // PrimalCore badge helper functions
    function closePrimalCoreBanner() {
      const badge = document.getElementById('primalcore-badge');
      if (!badge) return;
      badge.classList.add('hidden');
      localStorage.setItem('primalcoreBannerClosed', 'true');
      setTimeout(() => badge.remove(), 200);
    }

    window.addEventListener('DOMContentLoaded', () => {
      if (localStorage.getItem('primalcoreBannerClosed') === 'true') {
        const badge = document.getElementById('primalcore-badge');
        if (badge) badge.remove();
      }
    });
  </script>

  <!-- import map for dependencies used by the app -->
  <script type="importmap">
  {
    "imports": {
      "react": "https://esm.sh/react@19.2.0",
      "react-dom": "https://esm.sh/react-dom@19.2.0",
      "react-dom/client": "https://esm.sh/react-dom@19.2.0/client",
      "use-fireproof": "https://esm.sh/use-fireproof@0.23.14?deps=react@19.2.0,react-dom@19.2.0",
      "call-ai": "https://esm.sh/call-ai@latest?deps=react@19.2.0",
      "three": "https://esm.sh/three@latest"
    }
  }
  </script>

  <!-- Main React application (kept as an external Babel-transformed module) -->
  <script type="text/babel" data-type="module" src="app.jsx"></script>
</body>

</html>
